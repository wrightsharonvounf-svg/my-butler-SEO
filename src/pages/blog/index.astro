---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');

// сортировка по дате
posts.sort((a, b) => 
  new Date(b.data.pubDate) - new Date(a.data.pubDate)
);
---

<Layout
  title="Блог о недвижимости и финансах"
  description="Информационный блог об аренде, ипотеке, налогах и инвестициях."
>
  <section style="max-width: 900px; margin: 0 auto; padding: 2rem 1rem;">
    <h1>Блог о недвижимости</h1>

    <ul>
      {posts.map(post => (
        <li>
          <a href={`/blog/${post.slug}/`}>
            {post.data.title}
          </a>
        </li>
      ))}
    </ul>
  </section>
</Layout>
